{"ast":null,"code":"import { USERLIST, SELECTLIST, SHOWDATE1, SHOWDATE2 } from \"./actionTypes\"; //用fetch请求到数据\n\nexport const showUserAction = () => {\n  return dispatch => {\n    fetch(\"http://pre.zhushang.net/Supplychain/getDataForHavePost\", {\n      method: \"post\",\n      mode: \"cors\",\n      headers: {\n        \"Content-type\": \"application/x-www-form-urlencoded\"\n      },\n      body: \"type=1&page=1&num=20\"\n    }).then(response => {\n      return response.json();\n    }).then(responseText => {\n      const arr1 = responseText.slice(0, 8);\n      const arr2 = responseText.slice(10);\n      const arr = [...arr1, ...arr2];\n      const action = {\n        type: USERLIST,\n        value: arr\n      };\n      dispatch(action);\n    });\n  };\n}; // 按钮点击查询的功能\n\nexport const selectListAction = () => {\n  return (dispatch, getState) => {\n    const time1 = new Date(getState().dateValue1).getTime();\n    const time2 = new Date(getState().dateValue2).getTime();\n    const arr = getState().userlis;\n    const newarr = arr.filter(elem => {\n      const litime = new Date(elem.create_time.slice(0, 10)).getTime();\n      return litime >= time1 && litime <= time2;\n    });\n    const action = {\n      type: SELECTLIST,\n      value: newarr\n    };\n    dispatch(action);\n  };\n}; //将日期1的值传入到state中\n\nexport const showDate1Action = e => {\n  return dispatch => {\n    const action = {\n      type: SHOWDATE1,\n      value: e.target.value\n    };\n    dispatch(action);\n  };\n}; //将日期2的值传入到state中\n\nexport const showDate2Action = e => {\n  return dispatch => {\n    const action = {\n      type: SHOWDATE2,\n      value: e.target.value\n    };\n    dispatch(action);\n  };\n};","map":{"version":3,"sources":["/Users/apple/Desktop/react-cli/my-app/src/store/actionCreators.js"],"names":["USERLIST","SELECTLIST","SHOWDATE1","SHOWDATE2","showUserAction","dispatch","fetch","method","mode","headers","body","then","response","json","responseText","arr1","slice","arr2","arr","action","type","value","selectListAction","getState","time1","Date","dateValue1","getTime","time2","dateValue2","userlis","newarr","filter","elem","litime","create_time","showDate1Action","e","target","showDate2Action"],"mappings":"AAAA,SAAQA,QAAR,EAAiBC,UAAjB,EAA4BC,SAA5B,EAAsCC,SAAtC,QAAsD,eAAtD,C,CACA;;AACA,OAAO,MAAMC,cAAc,GAAG,MAAI;AAC9B,SAAQC,QAAD,IAAY;AACfC,IAAAA,KAAK,CAAC,wDAAD,EAA0D;AAC3DC,MAAAA,MAAM,EAAC,MADoD;AAE3DC,MAAAA,IAAI,EAAC,MAFsD;AAG3DC,MAAAA,OAAO,EAAC;AAAC,wBAAe;AAAhB,OAHmD;AAI3DC,MAAAA,IAAI,EAAC;AAJsD,KAA1D,CAAL,CAKGC,IALH,CAKQC,QAAQ,IAAE;AACd,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,KAPD,EAOGF,IAPH,CAOSG,YAAD,IAAgB;AACpB,YAAMC,IAAI,GAACD,YAAY,CAACE,KAAb,CAAmB,CAAnB,EAAqB,CAArB,CAAX;AACA,YAAMC,IAAI,GAACH,YAAY,CAACE,KAAb,CAAmB,EAAnB,CAAX;AACA,YAAME,GAAG,GAAC,CAAC,GAAGH,IAAJ,EAAS,GAAGE,IAAZ,CAAV;AACA,YAAME,MAAM,GAAC;AACTC,QAAAA,IAAI,EAACpB,QADI;AAETqB,QAAAA,KAAK,EAACH;AAFG,OAAb;AAIAb,MAAAA,QAAQ,CAACc,MAAD,CAAR;AACH,KAhBD;AAiBH,GAlBD;AAmBH,CApBM,C,CAqBP;;AACA,OAAO,MAAMG,gBAAgB,GAAC,MAAI;AAC9B,SAAO,CAACjB,QAAD,EAAUkB,QAAV,KAAqB;AACxB,UAAMC,KAAK,GAAC,IAAIC,IAAJ,CAASF,QAAQ,GAAGG,UAApB,EAAgCC,OAAhC,EAAZ;AACA,UAAMC,KAAK,GAAC,IAAIH,IAAJ,CAASF,QAAQ,GAAGM,UAApB,EAAgCF,OAAhC,EAAZ;AACA,UAAMT,GAAG,GAACK,QAAQ,GAAGO,OAArB;AACA,UAAMC,MAAM,GAACb,GAAG,CAACc,MAAJ,CAAYC,IAAD,IAAQ;AAC5B,YAAMC,MAAM,GAAC,IAAIT,IAAJ,CAASQ,IAAI,CAACE,WAAL,CAAiBnB,KAAjB,CAAuB,CAAvB,EAAyB,EAAzB,CAAT,EAAuCW,OAAvC,EAAb;AACA,aAAOO,MAAM,IAAEV,KAAR,IAAeU,MAAM,IAAEN,KAA9B;AACH,KAHY,CAAb;AAIA,UAAMT,MAAM,GAAC;AACTC,MAAAA,IAAI,EAACnB,UADI;AAEToB,MAAAA,KAAK,EAACU;AAFG,KAAb;AAIA1B,IAAAA,QAAQ,CAACc,MAAD,CAAR;AACH,GAbD;AAcH,CAfM,C,CAgBP;;AACA,OAAO,MAAMiB,eAAe,GAAEC,CAAD,IAAK;AAC9B,SAAQhC,QAAD,IAAY;AACf,UAAMc,MAAM,GAAC;AACTC,MAAAA,IAAI,EAAClB,SADI;AAETmB,MAAAA,KAAK,EAACgB,CAAC,CAACC,MAAF,CAASjB;AAFN,KAAb;AAIAhB,IAAAA,QAAQ,CAACc,MAAD,CAAR;AACH,GAND;AAOH,CARM,C,CASP;;AACA,OAAO,MAAMoB,eAAe,GAAEF,CAAD,IAAK;AAC9B,SAAQhC,QAAD,IAAY;AACf,UAAMc,MAAM,GAAC;AACTC,MAAAA,IAAI,EAACjB,SADI;AAETkB,MAAAA,KAAK,EAACgB,CAAC,CAACC,MAAF,CAASjB;AAFN,KAAb;AAIAhB,IAAAA,QAAQ,CAACc,MAAD,CAAR;AACH,GAND;AAOH,CARM","sourcesContent":["import {USERLIST,SELECTLIST,SHOWDATE1,SHOWDATE2} from \"./actionTypes\"\n//用fetch请求到数据\nexport const showUserAction = ()=>{\n    return (dispatch)=>{\n        fetch(\"http://pre.zhushang.net/Supplychain/getDataForHavePost\",{\n            method:\"post\",\n            mode:\"cors\",\n            headers:{\"Content-type\":\"application/x-www-form-urlencoded\"},\n            body:\"type=1&page=1&num=20\"\n        }).then(response=>{\n            return response.json()\n        }).then((responseText)=>{\n            const arr1=responseText.slice(0,8)\n            const arr2=responseText.slice(10)\n            const arr=[...arr1,...arr2]\n            const action={\n                type:USERLIST,\n                value:arr\n            }\n            dispatch(action)\n        })\n    }\n}\n// 按钮点击查询的功能\nexport const selectListAction=()=>{\n    return (dispatch,getState)=>{\n        const time1=new Date(getState().dateValue1).getTime()\n        const time2=new Date(getState().dateValue2).getTime()\n        const arr=getState().userlis\n        const newarr=arr.filter((elem)=>{\n            const litime=new Date(elem.create_time.slice(0,10)).getTime() \n            return litime>=time1&&litime<=time2\n        })\n        const action={\n            type:SELECTLIST,\n            value:newarr\n        }\n        dispatch(action)\n    }\n}\n//将日期1的值传入到state中\nexport const showDate1Action=(e)=>{\n    return (dispatch)=>{\n        const action={\n            type:SHOWDATE1,\n            value:e.target.value\n        }\n        dispatch(action)\n    }\n}\n//将日期2的值传入到state中\nexport const showDate2Action=(e)=>{\n    return (dispatch)=>{\n        const action={\n            type:SHOWDATE2,\n            value:e.target.value\n        }\n        dispatch(action)\n    }\n}\n"]},"metadata":{},"sourceType":"module"}