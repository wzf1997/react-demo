{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/react-cli/my-app/src/userlist/Userlist.js\";\nimport React from \"react\";\nimport Lis from \"./Lis\";\nimport Userselect from \"./Userselect\";\nimport OrderList from \"./Orderlist\";\nexport default class Userlist extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userlist: [],\n      timeStart: \"\",\n      timeEnd: \"\",\n      selectlis: [],\n      selectlis1: [],\n      nextpage: \"1\",\n      page2: [],\n      page3: [],\n      page1: [],\n      prevpage: 1\n    };\n    this.select = this.select.bind(this);\n    this.showlis = this.showlis.bind(this);\n    this.nextpage = this.nextpage.bind(this);\n    this.prevpage = this.prevpage.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(\"http://pre.zhushang.net/Supplychain/getDataForHavePost\", {\n      method: \"post\",\n      mode: \"cors\",\n      headers: {\n        \"Content-type\": \"application/x-www-form-urlencoded\"\n      },\n      body: \"type=1&page=1&num=20\"\n    }).then(response => {\n      return response.json();\n    }).then(responseText => {\n      const arr1 = responseText.slice(0, 8);\n      const arr2 = responseText.slice(10);\n      const arr = [...arr1, ...arr2];\n      this.setState({\n        userlist: arr,\n        selectlis: arr\n      });\n    });\n  } //  输入框子组件的日期1传递给父组件\n\n\n  onchangeValue1(e) {\n    this.setState({\n      timeStart: e.target.value\n    });\n  } // //  输入框子组件的日期2传递给父组件\n\n\n  onchangeValue2(e) {\n    this.setState({\n      timeEnd: e.target.value\n    });\n  } // 按钮查询功能\n\n\n  select() {\n    const time1 = new Date(this.state.timeStart).getTime();\n    const time2 = new Date(this.state.timeEnd).getTime();\n    const arr = this.state.userlist;\n    console.log(arr);\n    const newarr = arr.filter(elem => {\n      const litime = new Date(elem.create_time.slice(0, 10)).getTime();\n      return litime >= time1 && litime <= time2;\n    });\n    console.log(newarr);\n    this.setState({\n      page1: newarr,\n      selectlis: newarr\n    });\n  } // 显示条数\n\n\n  showlis(e) {\n    let pshow = Number(e.target.value);\n    let pcount = this.state.selectlis.length;\n    let arr = this.state.selectlis;\n    console.log(arr, pcount, pshow); //   判断当前页面有几条数据\n\n    if (pcount / pshow <= 3 && pcount / pshow > 2) {\n      const arr1 = arr.slice(0, pshow);\n      const arr2 = arr.slice(pshow, 2 * pshow);\n      const arr3 = arr.slice(2 * pshow);\n      this.setState({\n        nextpage: 3,\n        page1: arr1,\n        page2: arr2,\n        page3: arr3\n      });\n    } else if (pcount / pshow > 1 && pcount / pshow <= 2) {\n      const arr4 = arr.slice(0, pshow);\n      const arr5 = arr.slice(pshow);\n      this.setState({\n        nextpage: 2,\n        page1: arr4,\n        page2: arr5\n      });\n    } else {\n      const arr6 = arr.slice(0, arr.lenth);\n      this.setState({\n        nextpage: 1,\n        page1: arr6\n      });\n    }\n  } // 下一页\n\n\n  nextpage() {\n    let prevpage = this.state.prevpage;\n    let nextpage = this.state.nextpage;\n    const arrPage2 = this.state.page2;\n    const arrPage3 = this.state.page3;\n\n    if (prevpage < nextpage) {\n      prevpage++;\n      this.setState({\n        prevpage: prevpage\n      });\n    }\n\n    if (prevpage === 3) {\n      this.setState({\n        page1: arrPage3\n      });\n    }\n\n    if (prevpage === 2) {\n      this.setState({\n        page1: arrPage2\n      });\n    }\n  } // 上一页\n\n\n  prevpage() {\n    let prevpage = this.state.prevpage;\n\n    if (prevpage > 1) {\n      prevpage--;\n      this.setState({\n        prevpage: prevpage\n      });\n    }\n  }\n\n  render() {\n    const arr = this.state.page1;\n    const newarr = arr.map((elem, i) => {\n      return React.createElement(Lis, Object.assign({\n        key: i\n      }, elem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }));\n    });\n    return React.createElement(\"div\", {\n      id: \"tab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"sale\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      id: \"selectmoney\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\\u603B\\u6536\\u5165\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"\\u603B\\u6536\\u5165\"), React.createElement(\"option\", {\n      value: \"\\u540E\\u53F0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"\\u540E\\u53F0\")), React.createElement(\"select\", {\n      name: \"\",\n      id: \"selectNumber\",\n      onChange: this.showlis,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"\\u663E\\u793A\\u6761\\u6570\"), React.createElement(\"option\", {\n      value: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"6\"), React.createElement(\"option\", {\n      value: \"12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"12\"), React.createElement(\"option\", {\n      value: \"18\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"18\")), React.createElement(Userselect, {\n      change1: this.onchangeValue1.bind(this),\n      change2: this.onchangeValue2.bind(this),\n      value1: this.state.timeStart,\n      value2: this.state.timeEnd,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"buttonclick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"select\",\n      onClick: this.select,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"\\u67E5\\u8BE2\"), React.createElement(\"button\", {\n      id: \"asyc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"\\u540C\\u6B65\"), React.createElement(\"span\", {\n      className: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \" \\u4EA4\\u6613\\u4E0A\\u6B21\\u624B\\u52A8\\u540C\\u6B65\\u65F6\\u95F4:  \", React.createElement(\"span\", {\n      id: \"time\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \" 2019-09-25 10:09:36 \"))), React.createElement(OrderList, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, newarr), React.createElement(\"div\", {\n      id: \"fenye\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"startpage\",\n      onClick: this.prevpage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"\\u4E0A\\u4E00\\u9875\"), React.createElement(\"div\", {\n      id: \"page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      id: \"start\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, this.state.prevpage), \"/ \", React.createElement(\"span\", {\n      id: \"endPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, this.state.nextpage)), React.createElement(\"div\", {\n      className: \"endpage\",\n      onClick: this.nextpage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"\\u4E0B\\u4E00\\u9875\"))));\n  }\n\n}","map":{"version":3,"sources":["/Users/apple/Desktop/react-cli/my-app/src/userlist/Userlist.js"],"names":["React","Lis","Userselect","OrderList","Userlist","Component","constructor","props","state","userlist","timeStart","timeEnd","selectlis","selectlis1","nextpage","page2","page3","page1","prevpage","select","bind","showlis","componentDidMount","fetch","method","mode","headers","body","then","response","json","responseText","arr1","slice","arr2","arr","setState","onchangeValue1","e","target","value","onchangeValue2","time1","Date","getTime","time2","console","log","newarr","filter","elem","litime","create_time","pshow","Number","pcount","length","arr3","arr4","arr5","arr6","lenth","arrPage2","arrPage3","render","map","i"],"mappings":"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","sourcesContent":["  import   React from \"react\"\n  import  Lis from \"./Lis\"\n  import  Userselect  from \"./Userselect\"\n  import  OrderList  from \"./Orderlist\"\n\nexport  default  class Userlist extends  React.Component{\n      constructor(props){\n            super(props)\n            this.state={\n                  userlist:[],\n                  timeStart:\"\",\n                  timeEnd:\"\",\n                  selectlis:[],\n                  selectlis1:[],\n                  nextpage:\"1\",\n                  page2:[],\n                  page3:[],\n                  page1:[],\n                  prevpage:1\n\n            }\n            this.select=this.select.bind(this)\n            this.showlis=this.showlis.bind(this)\n            this.nextpage=this.nextpage.bind(this)\n            this.prevpage=this.prevpage.bind(this)\n      }\n      componentDidMount(){\n            fetch(\"http://pre.zhushang.net/Supplychain/getDataForHavePost\",{\n                   method:\"post\",\n                   mode:\"cors\",\n                   headers:{\n                       \"Content-type\": \"application/x-www-form-urlencoded\"\n                   },\n                   body : \"type=1&page=1&num=20\"\n\n            }).then (response =>{\n                   return   response.json()\n            }).then( (responseText)=>{\n                  const arr1=responseText.slice(0,8)\n                  const arr2=responseText.slice(10)\n                  const arr=[...arr1,...arr2]\n                  this.setState({userlist:arr , selectlis:arr})\n            }  )\n        }\n       \n      //  输入框子组件的日期1传递给父组件\n      onchangeValue1(e){\n         this.setState({timeStart:e.target.value})\n      }\n      // //  输入框子组件的日期2传递给父组件\n      onchangeValue2(e){\n         this.setState({timeEnd:e.target.value})   \n      }\n      // 按钮查询功能\n      select(){\n         const time1=  new Date(this.state.timeStart).getTime()\n         const time2=  new Date(this.state.timeEnd).getTime()\n         const arr=this.state.userlist\n         console.log(arr)\n         const newarr=arr.filter((elem)=>{\n               const   litime= new Date(elem.create_time.slice(0,10)).getTime() \n               return   litime>=time1&&litime<=time2\n         })\n         console.log(newarr)\n         this.setState({\n                 page1:newarr,\n                 selectlis:newarr\n                 \n          })\n      }\n      // 显示条数\n      showlis(e){\n           \n        let pshow= Number(e.target.value)  \n        let pcount=this.state.selectlis.length\n        \n        let arr=this.state.selectlis \n        console.log(arr,pcount,pshow)\n      //   判断当前页面有几条数据\n         if(pcount/pshow<=3&&pcount/pshow>2){\n               const arr1=arr.slice(0,pshow)\n               const arr2=arr.slice(pshow,2*pshow)\n               const arr3=arr.slice(2*pshow)\n               this.setState( {\n                     nextpage:3,\n                     page1:arr1,\n                     page2:arr2,\n                     page3:arr3,\n                           } )\n         }else if(pcount/pshow>1&&pcount/pshow<=2){\n               const arr4=arr.slice(0,pshow)\n               const arr5=arr.slice(pshow) \n               this.setState( {\n                     nextpage:2,\n                     page1:arr4,\n                     page2:arr5\n                         } )\n         }else{\n            const arr6=arr.slice(0,arr.lenth)\n            this.setState( {\n                   nextpage:1,\n                   page1:arr6,\n                        } )\n           \n         }\n      }\n      // 下一页\n      nextpage(){\n       let prevpage=this.state.prevpage\n       let  nextpage=this.state.nextpage\n       const arrPage2=this.state.page2\n       const arrPage3=this.state.page3\n       if(prevpage<nextpage){\n             prevpage++\n             this.setState({prevpage:prevpage})\n       }\n       if(prevpage===3){\n            this.setState({page1:arrPage3})\n       }\n       if(prevpage===2){\n            this.setState({page1:arrPage2})\n       }\n      }\n      // 上一页\n      prevpage(){\n         let prevpage=this.state.prevpage\n         if(prevpage>1){\n               prevpage--\n               this.setState({prevpage:prevpage})\n         }\n      }\n\n      render(){\n           \n            const   arr=this.state.page1\n            const  newarr=arr.map((elem ,i)=> {\n                  return   <Lis  key={i} {...elem}></Lis>\n            })\n            \n            return  <div id=\"tab\"> \n                        <div id=\"sale\">\n                              <select  id=\"selectmoney\">\n                                 <option value=\"总收入\">总收入</option>\n                                 <option value=\"后台\">后台</option>\n                                 </select>\n                              <select name=\"\" id=\"selectNumber\" onChange={this.showlis}>\n                                 <option>显示条数</option>\n                                 <option value=\"6\" >6</option>\n                                 <option value=\"12\" >12</option>\n                                 <option value=\"18\" >18</option>\n                              </select>\n                              {/* 兄弟组件传值 */}\n                        <Userselect change1={this.onchangeValue1.bind(this)} change2={this.onchangeValue2.bind(this)} \n                                 value1={this.state.timeStart}   value2={this.state.timeEnd}/>\n                                 <div id=\"buttonclick\">\n                                    <button id=\"select\"  onClick={this.select}>查询</button>\n                                    <button id=\"asyc\">同步</button>\n                                    <span className=\"text\"> 交易上次手动同步时间:  <span id=\"time\"> 2019-09-25 10:09:36 </span></span>\n                                 </div>\n                              {/* 表头组件 */}\n                        <OrderList/>\n                                 <div>{ newarr}</div>\n                        <div id=\"fenye\">\n                                <div className=\"startpage\"  onClick={this.prevpage}>上一页</div>\n                                <div id=\"page\"> \n                                <span id=\"start\" >{this.state.prevpage}</span>/ <span id=\"endPage\" >{this.state.nextpage}</span> \n                                </div>\n                                <div className=\"endpage\" onClick={this.nextpage}>下一页</div>\n                                </div>    \n                        </div>\n                     </div>\n       }\n\n\n  }"]},"metadata":{},"sourceType":"module"}