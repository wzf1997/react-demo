{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/react-cli/my-app/src/userlist/index.js\";\nimport React from \"react\";\nimport Lis from \"./li\";\nimport Userselect from \"./userSelect\";\nimport OrderList from \"./orderList\";\nimport { connect } from \"react-redux\";\nimport { showUserAction } from \"../store/actionCreators\";\nimport store from \"../store/store\";\n\nclass UserList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userlist: [],\n      timeStart: \"\",\n      timeEnd: \"\",\n      selectlis: [],\n      selectlis1: [],\n      nextpage: \"1\",\n      page: [],\n      page2: [],\n      page3: [],\n      pageShow: [],\n      prevpage: 1\n    };\n    this.select = this.select.bind(this);\n    this.showlis = this.showlis.bind(this);\n    this.nextpage = this.nextpage.bind(this);\n    this.prevpage = this.prevpage.bind(this);\n  }\n\n  componentDidMount() {\n    const action = showUserAction();\n    store.dispatch(action);\n  } //输入框子组件的日期1传递给父组件\n\n\n  onchangeValue1(e) {\n    this.setState({\n      timeStart: e.target.value\n    });\n  } //输入框子组件的日期2传递给父组件\n\n\n  onchangeValue2(e) {\n    this.setState({\n      timeEnd: e.target.value\n    });\n  } //按钮查询功能\n\n\n  select() {\n    const time1 = new Date(this.state.timeStart).getTime();\n    const time2 = new Date(this.state.timeEnd).getTime();\n    const arr = this.state.userlist;\n    const newarr = arr.filter(elem => {\n      const litime = new Date(elem.create_time.slice(0, 10)).getTime();\n      return litime >= time1 && litime <= time2;\n    });\n    this.setState({\n      pageShow: newarr,\n      selectlis: newarr,\n      prevpage: 1,\n      nextpage: 1\n    });\n  } //显示条数\n\n\n  showlis(e) {\n    this.setState({\n      prevpage: 1\n    });\n    let pshow = Number(e.target.value);\n    let pcount = this.state.selectlis.length;\n    let arr = this.state.selectlis; //判断当前页面有几条数据\n\n    if (pcount / pshow <= 3 && pcount / pshow > 2) {\n      const arr1 = arr.slice(0, pshow);\n      const arr2 = arr.slice(pshow, 2 * pshow);\n      const arr3 = arr.slice(2 * pshow);\n      this.setState({\n        nextpage: 3,\n        page: arr1,\n        pageShow: arr1,\n        page2: arr2,\n        page3: arr3\n      });\n    } else if (pcount / pshow > 1 && pcount / pshow <= 2) {\n      const arr4 = arr.slice(0, pshow);\n      const arr5 = arr.slice(pshow);\n      this.setState({\n        nextpage: 2,\n        page: arr4,\n        pageShow: arr4,\n        page2: arr5\n      });\n    } else {\n      const arr6 = arr.slice(0, arr.lenth);\n      this.setState({\n        nextpage: 1,\n        page: arr6,\n        pageShow: arr6\n      });\n    }\n  } //下一页\n\n\n  nextpage() {\n    let prevpage = this.state.prevpage;\n    let nextpage = this.state.nextpage;\n    const arrPage2 = this.state.page2;\n    const arrPage3 = this.state.page3;\n\n    if (prevpage < nextpage) {\n      prevpage++;\n      this.setState({\n        prevpage: prevpage\n      });\n    }\n\n    if (prevpage === 3) {\n      this.setState({\n        pageShow: arrPage3\n      });\n    }\n\n    if (prevpage === 2) {\n      this.setState({\n        pageShow: arrPage2\n      });\n    }\n  } //上一页\n\n\n  prevpage() {\n    let prevpage = this.state.prevpage;\n    const arrPage1 = this.state.page;\n    const arrPage2 = this.state.page2;\n    const arrPage3 = this.state.page3;\n\n    if (prevpage > 1) {\n      prevpage--;\n      this.setState({\n        prevpage: prevpage\n      });\n    }\n\n    if (prevpage === 1) {\n      this.setState({\n        pageShow: arrPage1\n      });\n    } else if (prevpage === 2) {\n      this.setState({\n        pageShow: arrPage2\n      });\n    } else {\n      this.setState({\n        pageShow: arrPage3\n      });\n    }\n  }\n\n  render() {\n    console.log(this.props.userLis);\n    const arr = this.state.pageShow;\n    const newarr = arr.map((elem, i) => {\n      return React.createElement(Lis, Object.assign({\n        key: i\n      }, elem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }));\n    });\n    return React.createElement(\"div\", {\n      className: \"tab\",\n      style: {\n        display: this.props.display\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sale\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      className: \"selectmoney\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\\u603B\\u6536\\u5165\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"\\u603B\\u6536\\u5165\"), React.createElement(\"option\", {\n      value: \"\\u540E\\u53F0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"\\u540E\\u53F0\")), React.createElement(\"select\", {\n      className: \"selectNumber\",\n      onChange: this.showlis,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"\\u663E\\u793A\\u6761\\u6570\"), React.createElement(\"option\", {\n      value: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"6\"), React.createElement(\"option\", {\n      value: \"12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"12\"), React.createElement(\"option\", {\n      value: \"18\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"18\")), React.createElement(Userselect, {\n      change1: this.onchangeValue1.bind(this),\n      change2: this.onchangeValue2.bind(this),\n      value1: this.state.timeStart,\n      value2: this.state.timeEnd,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"buttonclick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"select\",\n      onClick: this.select,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"\\u67E5\\u8BE2\"), React.createElement(\"button\", {\n      className: \"asyc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"\\u540C\\u6B65\"), React.createElement(\"span\", {\n      className: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"\\u4EA4\\u6613\\u4E0A\\u6B21\\u624B\\u52A8\\u540C\\u6B65\\u65F6\\u95F4:\", React.createElement(\"span\", {\n      className: \"time\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \" 2019-09-25 10:09:36 \"))), React.createElement(OrderList, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, newarr), React.createElement(\"div\", {\n      className: \"fenye\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"startpage\",\n      onClick: this.prevpage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"\\u4E0A\\u4E00\\u9875\"), React.createElement(\"div\", {\n      className: \"page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"start\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, this.state.prevpage), \"/\", React.createElement(\"span\", {\n      className: \"endPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, this.state.nextpage)), React.createElement(\"div\", {\n      className: \"endpage\",\n      onClick: this.nextpage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"\\u4E0B\\u4E00\\u9875\"))));\n  }\n\n}\n\nconst stateToProps = state => {\n  return {\n    userLis: state.userlis\n  };\n};\n\nexport default connect(stateToProps)(UserList);","map":{"version":3,"sources":["/Users/apple/Desktop/react-cli/my-app/src/userlist/index.js"],"names":["React","Lis","Userselect","OrderList","connect","showUserAction","store","UserList","Component","constructor","props","state","userlist","timeStart","timeEnd","selectlis","selectlis1","nextpage","page","page2","page3","pageShow","prevpage","select","bind","showlis","componentDidMount","action","dispatch","onchangeValue1","e","setState","target","value","onchangeValue2","time1","Date","getTime","time2","arr","newarr","filter","elem","litime","create_time","slice","pshow","Number","pcount","length","arr1","arr2","arr3","arr4","arr5","arr6","lenth","arrPage2","arrPage3","arrPage1","render","console","log","userLis","map","i","display","stateToProps","userlis"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,MAAhB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,cAAR,QAA6B,yBAA7B;AACA,OAAOC,KAAP,MAAkB,gBAAlB;;AACA,MAAMC,QAAN,SAAuBP,KAAK,CAACQ,SAA7B,CAAsC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAW;AACPC,MAAAA,QAAQ,EAAC,EADF;AAEPC,MAAAA,SAAS,EAAC,EAFH;AAGPC,MAAAA,OAAO,EAAC,EAHD;AAIPC,MAAAA,SAAS,EAAC,EAJH;AAKPC,MAAAA,UAAU,EAAC,EALJ;AAMPC,MAAAA,QAAQ,EAAC,GANF;AAOPC,MAAAA,IAAI,EAAC,EAPE;AAQPC,MAAAA,KAAK,EAAC,EARC;AASPC,MAAAA,KAAK,EAAC,EATC;AAUPC,MAAAA,QAAQ,EAAC,EAVF;AAWPC,MAAAA,QAAQ,EAAC;AAXF,KAAX;AAaA,SAAKC,MAAL,GAAY,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAZ;AACA,SAAKC,OAAL,GAAa,KAAKA,OAAL,CAAaD,IAAb,CAAkB,IAAlB,CAAb;AACA,SAAKP,QAAL,GAAc,KAAKA,QAAL,CAAcO,IAAd,CAAmB,IAAnB,CAAd;AACA,SAAKF,QAAL,GAAc,KAAKA,QAAL,CAAcE,IAAd,CAAmB,IAAnB,CAAd;AACH;;AACDE,EAAAA,iBAAiB,GAAE;AACf,UAAMC,MAAM,GAACtB,cAAc,EAA3B;AACAC,IAAAA,KAAK,CAACsB,QAAN,CAAeD,MAAf;AACH,GAxBiC,CA0BlC;;;AACAE,EAAAA,cAAc,CAACC,CAAD,EAAG;AACb,SAAKC,QAAL,CAAc;AAAClB,MAAAA,SAAS,EAACiB,CAAC,CAACE,MAAF,CAASC;AAApB,KAAd;AACH,GA7BiC,CA8BlC;;;AACAC,EAAAA,cAAc,CAACJ,CAAD,EAAG;AACb,SAAKC,QAAL,CAAc;AAACjB,MAAAA,OAAO,EAACgB,CAAC,CAACE,MAAF,CAASC;AAAlB,KAAd;AACH,GAjCiC,CAkClC;;;AACAV,EAAAA,MAAM,GAAE;AACJ,UAAMY,KAAK,GAAC,IAAIC,IAAJ,CAAS,KAAKzB,KAAL,CAAWE,SAApB,EAA+BwB,OAA/B,EAAZ;AACA,UAAMC,KAAK,GAAC,IAAIF,IAAJ,CAAS,KAAKzB,KAAL,CAAWG,OAApB,EAA6BuB,OAA7B,EAAZ;AACA,UAAME,GAAG,GAAC,KAAK5B,KAAL,CAAWC,QAArB;AACA,UAAM4B,MAAM,GAACD,GAAG,CAACE,MAAJ,CAAYC,IAAD,IAAQ;AAChC,YAAMC,MAAM,GAAC,IAAIP,IAAJ,CAASM,IAAI,CAACE,WAAL,CAAiBC,KAAjB,CAAuB,CAAvB,EAAyB,EAAzB,CAAT,EAAuCR,OAAvC,EAAb;AACI,aAAOM,MAAM,IAAER,KAAR,IAAeQ,MAAM,IAAEL,KAA9B;AAAoC,KAF3B,CAAb;AAGA,SAAKP,QAAL,CAAc;AACVV,MAAAA,QAAQ,EAACmB,MADC;AAEVzB,MAAAA,SAAS,EAACyB,MAFA;AAGVlB,MAAAA,QAAQ,EAAC,CAHC;AAIVL,MAAAA,QAAQ,EAAC;AAJC,KAAd;AAMH,GAhDiC,CAiDlC;;;AACAQ,EAAAA,OAAO,CAACK,CAAD,EAAG;AACN,SAAKC,QAAL,CAAc;AAACT,MAAAA,QAAQ,EAAC;AAAV,KAAd;AACA,QAAIwB,KAAK,GAAEC,MAAM,CAACjB,CAAC,CAACE,MAAF,CAASC,KAAV,CAAjB;AACA,QAAIe,MAAM,GAAC,KAAKrC,KAAL,CAAWI,SAAX,CAAqBkC,MAAhC;AACA,QAAIV,GAAG,GAAC,KAAK5B,KAAL,CAAWI,SAAnB,CAJM,CAKN;;AACA,QAAGiC,MAAM,GAACF,KAAP,IAAc,CAAd,IAAiBE,MAAM,GAACF,KAAP,GAAa,CAAjC,EAAmC;AAC/B,YAAMI,IAAI,GAACX,GAAG,CAACM,KAAJ,CAAU,CAAV,EAAYC,KAAZ,CAAX;AACA,YAAMK,IAAI,GAACZ,GAAG,CAACM,KAAJ,CAAUC,KAAV,EAAgB,IAAEA,KAAlB,CAAX;AACA,YAAMM,IAAI,GAACb,GAAG,CAACM,KAAJ,CAAU,IAAEC,KAAZ,CAAX;AACA,WAAKf,QAAL,CAAc;AACdd,QAAAA,QAAQ,EAAC,CADK;AACHC,QAAAA,IAAI,EAACgC,IADF;AAEd7B,QAAAA,QAAQ,EAAC6B,IAFK;AAEA/B,QAAAA,KAAK,EAACgC,IAFN;AAEW/B,QAAAA,KAAK,EAACgC;AAFjB,OAAd;AAGH,KAPD,MAQK,IAAGJ,MAAM,GAACF,KAAP,GAAa,CAAb,IAAgBE,MAAM,GAACF,KAAP,IAAc,CAAjC,EAAmC;AACpC,YAAMO,IAAI,GAACd,GAAG,CAACM,KAAJ,CAAU,CAAV,EAAYC,KAAZ,CAAX;AACA,YAAMQ,IAAI,GAACf,GAAG,CAACM,KAAJ,CAAUC,KAAV,CAAX;AACA,WAAKf,QAAL,CAAc;AACdd,QAAAA,QAAQ,EAAC,CADK;AACHC,QAAAA,IAAI,EAACmC,IADF;AAEdhC,QAAAA,QAAQ,EAACgC,IAFK;AAEAlC,QAAAA,KAAK,EAACmC;AAFN,OAAd;AAGH,KANI,MAOD;AACA,YAAMC,IAAI,GAAChB,GAAG,CAACM,KAAJ,CAAU,CAAV,EAAYN,GAAG,CAACiB,KAAhB,CAAX;AACA,WAAKzB,QAAL,CAAc;AAACd,QAAAA,QAAQ,EAAC,CAAV;AAAYC,QAAAA,IAAI,EAACqC,IAAjB;AAAsBlC,QAAAA,QAAQ,EAACkC;AAA/B,OAAd;AACH;AACJ,GA3EiC,CA4ElC;;;AACAtC,EAAAA,QAAQ,GAAE;AACN,QAAIK,QAAQ,GAAC,KAAKX,KAAL,CAAWW,QAAxB;AACA,QAAIL,QAAQ,GAAC,KAAKN,KAAL,CAAWM,QAAxB;AACA,UAAMwC,QAAQ,GAAC,KAAK9C,KAAL,CAAWQ,KAA1B;AACA,UAAMuC,QAAQ,GAAC,KAAK/C,KAAL,CAAWS,KAA1B;;AACA,QAAGE,QAAQ,GAACL,QAAZ,EAAqB;AACjBK,MAAAA,QAAQ;AACR,WAAKS,QAAL,CAAc;AAACT,QAAAA,QAAQ,EAACA;AAAV,OAAd;AACH;;AACD,QAAGA,QAAQ,KAAG,CAAd,EAAgB;AACZ,WAAKS,QAAL,CAAc;AAACV,QAAAA,QAAQ,EAACqC;AAAV,OAAd;AACH;;AACD,QAAGpC,QAAQ,KAAG,CAAd,EAAgB;AACZ,WAAKS,QAAL,CAAc;AAACV,QAAAA,QAAQ,EAACoC;AAAV,OAAd;AACH;AACJ,GA5FiC,CA6FlC;;;AACAnC,EAAAA,QAAQ,GAAE;AACN,QAAIA,QAAQ,GAAC,KAAKX,KAAL,CAAWW,QAAxB;AACA,UAAMqC,QAAQ,GAAC,KAAKhD,KAAL,CAAWO,IAA1B;AACA,UAAMuC,QAAQ,GAAC,KAAK9C,KAAL,CAAWQ,KAA1B;AACA,UAAMuC,QAAQ,GAAC,KAAK/C,KAAL,CAAWS,KAA1B;;AACA,QAAGE,QAAQ,GAAC,CAAZ,EAAc;AACVA,MAAAA,QAAQ;AACR,WAAKS,QAAL,CAAc;AAACT,QAAAA,QAAQ,EAACA;AAAV,OAAd;AACH;;AACD,QAAGA,QAAQ,KAAG,CAAd,EAAgB;AACZ,WAAKS,QAAL,CAAc;AAACV,QAAAA,QAAQ,EAACsC;AAAV,OAAd;AACH,KAFD,MAGK,IAAGrC,QAAQ,KAAG,CAAd,EAAgB;AACjB,WAAKS,QAAL,CAAc;AAACV,QAAAA,QAAQ,EAACoC;AAAV,OAAd;AACH,KAFI,MAGD;AACA,WAAK1B,QAAL,CAAc;AAACV,QAAAA,QAAQ,EAACqC;AAAV,OAAd;AACH;AACJ;;AACDE,EAAAA,MAAM,GAAE;AACJC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpD,KAAL,CAAWqD,OAAvB;AACA,UAAMxB,GAAG,GAAC,KAAK5B,KAAL,CAAWU,QAArB;AACA,UAAMmB,MAAM,GAACD,GAAG,CAACyB,GAAJ,CAAQ,CAACtB,IAAD,EAAOuB,CAAP,KAAW;AAAC,aAAO,oBAAC,GAAD;AAAM,QAAA,GAAG,EAAEA;AAAX,SAAkBvB,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AAAsC,KAA1D,CAAb;AACA,WACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAqB,MAAA,KAAK,EAAE;AAACwB,QAAAA,OAAO,EAAC,KAAKxD,KAAL,CAAWwD;AAApB,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,SAAS,EAAC,aAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,KAAK,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,EAEI;AAAQ,MAAA,KAAK,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,CADJ,EAKI;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,QAAQ,EAAE,KAAKzC,OAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADJ,EAEI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFJ,EAGI;AAAQ,MAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ,EAII;AAAQ,MAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ,CALJ,EAYI,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAE,KAAKI,cAAL,CAAoBL,IAApB,CAAyB,IAAzB,CAArB;AAAqD,MAAA,OAAO,EAAE,KAAKU,cAAL,CAAoBV,IAApB,CAAyB,IAAzB,CAA9D;AAA8F,MAAA,MAAM,EAAE,KAAKb,KAAL,CAAWE,SAAjH;AAA4H,MAAA,MAAM,EAAE,KAAKF,KAAL,CAAWG,OAA/I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZJ,EAaI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,SAAS,EAAC,QAAlB;AAA2B,MAAA,OAAO,EAAE,KAAKS,MAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI;AAAQ,MAAA,SAAS,EAAC,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,EAGI;AAAM,MAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wEAAkC;AAAM,MAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAlC,CAHJ,CAbJ,EAmBI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBJ,EAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKiB,MADL,CApBJ,EAwBI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAA2B,MAAA,OAAO,EAAE,KAAKlB,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,EAEI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyB,KAAKX,KAAL,CAAWW,QAApC,CADJ,OAEI;AAAM,MAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2B,KAAKX,KAAL,CAAWM,QAAtC,CAFJ,CAFJ,EAMI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAyB,MAAA,OAAO,EAAE,KAAKA,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BANJ,CAxBJ,CADJ,CADJ;AAqCH;;AA1JiC;;AA4JtC,MAAMkD,YAAY,GAAExD,KAAD,IAAS;AACxB,SAAM;AACFoD,IAAAA,OAAO,EAACpD,KAAK,CAACyD;AADZ,GAAN;AAGH,CAJD;;AAKA,eAAehE,OAAO,CAAC+D,YAAD,CAAP,CAAsB5D,QAAtB,CAAf","sourcesContent":["import React from \"react\"\nimport Lis from \"./li\"\nimport Userselect from \"./userSelect\"\nimport OrderList from \"./orderList\"\nimport {connect} from \"react-redux\"\nimport {showUserAction} from \"../store/actionCreators\"\nimport store from \"../store/store\"\nclass UserList extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            userlist:[],\n            timeStart:\"\",\n            timeEnd:\"\",\n            selectlis:[],\n            selectlis1:[],\n            nextpage:\"1\",\n            page:[],\n            page2:[],\n            page3:[],\n            pageShow:[],\n            prevpage:1\n        }\n        this.select=this.select.bind(this)\n        this.showlis=this.showlis.bind(this)\n        this.nextpage=this.nextpage.bind(this)\n        this.prevpage=this.prevpage.bind(this)\n    }\n    componentDidMount(){\n        const action=showUserAction()\n        store.dispatch(action)\n    }\n       \n    //输入框子组件的日期1传递给父组件\n    onchangeValue1(e){\n        this.setState({timeStart:e.target.value})\n    }\n    //输入框子组件的日期2传递给父组件\n    onchangeValue2(e){\n        this.setState({timeEnd:e.target.value})   \n    }\n    //按钮查询功能\n    select(){\n        const time1=new Date(this.state.timeStart).getTime()\n        const time2=new Date(this.state.timeEnd).getTime()\n        const arr=this.state.userlist\n        const newarr=arr.filter((elem)=>{\n        const litime=new Date(elem.create_time.slice(0,10)).getTime() \n            return litime>=time1&&litime<=time2})\n        this.setState({\n            pageShow:newarr,\n            selectlis:newarr,\n            prevpage:1,\n            nextpage:1\n        })\n    }\n    //显示条数\n    showlis(e){\n        this.setState({prevpage:1}) \n        let pshow= Number(e.target.value)  \n        let pcount=this.state.selectlis.length\n        let arr=this.state.selectlis \n        //判断当前页面有几条数据\n        if(pcount/pshow<=3&&pcount/pshow>2){\n            const arr1=arr.slice(0,pshow)\n            const arr2=arr.slice(pshow,2*pshow)\n            const arr3=arr.slice(2*pshow)\n            this.setState({\n            nextpage:3,page:arr1,\n            pageShow:arr1,page2:arr2,page3:arr3 })\n        }\n        else if(pcount/pshow>1&&pcount/pshow<=2){\n            const arr4=arr.slice(0,pshow)\n            const arr5=arr.slice(pshow) \n            this.setState({\n            nextpage:2,page:arr4,\n            pageShow:arr4,page2:arr5 })\n        }\n        else{\n            const arr6=arr.slice(0,arr.lenth)\n            this.setState({nextpage:1,page:arr6,pageShow:arr6 })\n        }\n    }\n    //下一页\n    nextpage(){\n        let prevpage=this.state.prevpage\n        let nextpage=this.state.nextpage\n        const arrPage2=this.state.page2\n        const arrPage3=this.state.page3\n        if(prevpage<nextpage){\n            prevpage++\n            this.setState({prevpage:prevpage})\n        }\n        if(prevpage===3){\n            this.setState({pageShow:arrPage3})\n        }\n        if(prevpage===2){\n            this.setState({pageShow:arrPage2})\n        }\n    }\n    //上一页\n    prevpage(){\n        let prevpage=this.state.prevpage\n        const arrPage1=this.state.page\n        const arrPage2=this.state.page2\n        const arrPage3=this.state.page3\n        if(prevpage>1){\n            prevpage--\n            this.setState({prevpage:prevpage})\n        }\n        if(prevpage===1){\n            this.setState({pageShow:arrPage1})\n        }\n        else if(prevpage===2){\n            this.setState({pageShow:arrPage2})\n        }\n        else{\n            this.setState({pageShow:arrPage3})  \n        }\n    }\n    render(){\n        console.log(this.props.userLis)\n        const arr=this.state.pageShow\n        const newarr=arr.map((elem ,i)=>{return <Lis  key={i} {...elem}></Lis>})\n        return( \n            <div className=\"tab\" style={{display:this.props.display}}> \n                <div className=\"sale\">\n                    <select className=\"selectmoney\">\n                        <option value=\"总收入\">总收入</option>\n                        <option value=\"后台\">后台</option>\n                    </select>\n                    <select className=\"selectNumber\" onChange={this.showlis}>\n                        <option>显示条数</option>\n                        <option value=\"6\" >6</option>\n                        <option value=\"12\" >12</option>\n                        <option value=\"18\" >18</option>\n                    </select>\n                    {/* 兄弟组件传值 */}\n                    <Userselect change1={this.onchangeValue1.bind(this)} change2={this.onchangeValue2.bind(this)} value1={this.state.timeStart} value2={this.state.timeEnd}/>\n                    <div className=\"buttonclick\">\n                        <button className=\"select\" onClick={this.select}>查询</button>\n                        <button className=\"asyc\">同步</button>\n                        <span className=\"text\">交易上次手动同步时间:<span className=\"time\"> 2019-09-25 10:09:36 </span></span>\n                    </div>\n                    {/* 表头组件 */}\n                    <OrderList/>\n                    <div>\n                        {newarr}\n                    </div>\n                    {/* 分页部分 */}\n                    <div className=\"fenye\">\n                        <div className=\"startpage\" onClick={this.prevpage}>上一页</div>\n                        <div className=\"page\"> \n                            <span className=\"start\">{this.state.prevpage}</span>/ \n                            <span className=\"endPage\">{this.state.nextpage}</span> \n                        </div>\n                        <div className=\"endpage\" onClick={this.nextpage}>下一页</div>\n                    </div>    \n                </div>\n            </div>\n        )\n    }\n}\nconst stateToProps=(state)=>{\n    return{\n        userLis:state.userlis\n    }\n}\nexport default connect(stateToProps)(UserList)"]},"metadata":{},"sourceType":"module"}